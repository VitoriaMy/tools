import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{a as n}from"./chunk-TMI4QPZX-CUbE2BZK.js";import{a as j}from"./index-C-ZaVbcL.js";function w({logo:m,navItems:h=[],activePath:a,cta:d}){const[r,x]=n.useState(!1),[p,u]=n.useState(new Set);n.useEffect(()=>{x(!1)},[a]);const b=t=>{u(o=>{const s=new Set(o);return s.has(t)?s.delete(t):s.add(t),s})},i=()=>x(!1),[f,v]=n.useState(!1);return n.useEffect(()=>{v(!0)},[]),e.jsxs("header",{className:"app-header sticky top-0 z-50 w-full border-b bg-white/80 backdrop-blur",children:[e.jsxs("div",{className:"mx-auto max-w-6xl px-4 h-14 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx("a",{href:"/",className:"font-semibold text-lg",children:m??"LOGO"})}),e.jsx("nav",{className:"hidden md:flex items-center gap-6",children:h.map(t=>{const s="text-sm hover:text-black/80 "+(a===t.to?"text-black font-medium":"text-black/60");return t.children&&t.children.length>0?e.jsxs("div",{className:"relative group",children:[e.jsxs("a",{href:t.to,className:s+" inline-flex items-center gap-1",children:[e.jsx("span",{children:t.label}),e.jsx("svg",{"aria-hidden":"true",viewBox:"0 0 24 24",className:"h-3 w-3 opacity-70",children:e.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})]}),e.jsx("div",{className:`pointer-events-none invisible opacity-0 translate-y-1 group-hover:visible group-hover:opacity-100 group-hover:translate-y-0 group-hover:pointer-events-auto group-focus-within:visible group-focus-within:opacity-100 group-focus-within:translate-y-0 group-focus-within:pointer-events-auto transition\r
                                  absolute left-0 top-full pt-2 min-w-[12rem]`,children:e.jsx("div",{className:"rounded border bg-white shadow-md py-2",children:t.children.map(l=>e.jsx("a",{href:l.to,className:"block px-3 py-2 text-sm hover:bg-black/5 "+(a===l.to?"text-black":"text-black/70"),children:l.label},l.to))})})]},t.to):e.jsx("a",{href:t.to,className:s,children:t.label},t.to)})}),e.jsx("div",{className:"hidden md:flex items-center gap-3",children:d}),e.jsx("button",{type:"button","aria-label":r?"关闭菜单":"打开菜单",className:"md:hidden inline-flex h-9 w-9 items-center justify-center rounded border text-black/70 hover:text-black",onClick:()=>x(t=>!t),children:r?e.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:e.jsx("path",{fill:"currentColor",d:"M18.3 5.7L12 12l6.3 6.3-1.4 1.4L10.6 13.4 4.3 19.7 2.9 18.3 9.2 12 2.9 5.7 4.3 4.3l6.3 6.3 6.3-6.3z"})}):e.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:e.jsx("path",{fill:"currentColor",d:"M3 6h18v2H3V6zm0 5h18v2H3v-2zm0 5h18v2H3v-2z"})})})]}),f&&typeof document<"u"?j.createPortal(e.jsxs("div",{className:(r?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none")+" md:hidden fixed inset-0 z-[9999] transition",children:[e.jsx("div",{className:(r?"bg-black/30":"bg-black/0")+" fixed inset-0 transition-colors",onClick:i}),e.jsxs("div",{role:"dialog","aria-modal":"true",className:(r?"translate-x-0":"translate-x-full")+" fixed right-0 top-0 h-full w-[82%] max-w-[20rem] bg-white border-l shadow-xl transition-transform",children:[e.jsxs("div",{className:"h-14 px-4 flex items-center justify-between border-b",children:[e.jsx("div",{className:"font-semibold",children:"菜单"}),e.jsx("button",{type:"button","aria-label":"关闭菜单",className:"inline-flex h-9 w-9 items-center justify-center rounded border text-black/70 hover:text-black",onClick:i,children:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-5 w-5","aria-hidden":"true",children:e.jsx("path",{fill:"currentColor",d:"M18.3 5.7L12 12l6.3 6.3-1.4 1.4L10.6 13.4 4.3 19.7 2.9 18.3 9.2 12 2.9 5.7 4.3 4.3l6.3 6.3 6.3-6.3z"})})})]}),e.jsxs("div",{className:"overflow-y-auto h-[calc(100%-3.5rem)]",children:[e.jsx("nav",{className:"px-2 py-2",children:h.map(t=>{const o=a===t.to,s=t.to,l=p.has(s);return t.children&&t.children.length>0?e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("a",{href:t.to,onClick:i,className:"flex-1 px-3 py-2.5 text-sm rounded hover:bg-black/5 "+(o?"text-black font-medium":"text-black/70"),children:t.label}),e.jsx("button",{type:"button","aria-expanded":l,"aria-controls":`sub-${s}`,className:"mx-1 inline-flex h-8 w-8 items-center justify-center rounded border text-black/70 "+(l?"bg-black/5":""),onClick:()=>b(s),children:e.jsx("svg",{viewBox:"0 0 24 24",className:"h-4 w-4 transition-transform "+(l?"rotate-180":""),"aria-hidden":"true",children:e.jsx("path",{fill:"currentColor",d:"M7 10l5 5 5-5z"})})})]}),e.jsx("div",{id:`sub-${s}`,className:(l?"max-h-96 opacity-100":"max-h-0 opacity-0")+" overflow-hidden transition-all",children:t.children.map(c=>e.jsx("a",{href:c.to,onClick:i,className:"block pl-9 pr-3 py-2 text-sm hover:bg-black/5 "+(a===c.to?"text-black font-medium":"text-black/70"),children:c.label},c.to))})]},s):e.jsx("a",{href:t.to,onClick:i,className:"block px-3 py-2.5 text-sm rounded hover:bg-black/5 "+(o?"text-black font-medium":"text-black/70"),children:t.label},s)})}),d?e.jsxs("div",{className:"px-3 pb-4",children:[e.jsx("div",{className:"border-t my-2"}),e.jsx("div",{className:"pt-2",children:d})]}):null]})]})]}),document.body):null]})}export{w as A};
