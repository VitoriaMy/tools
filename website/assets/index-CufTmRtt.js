import{w as f,q as g,t as b,v as u}from"./chunk-TMI4QPZX-CUbE2BZK.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{A as j}from"./AppHeader-WRYBjqJ0.js";import{A as N}from"./AppFooter--lITyyDA.js";import{P as k}from"./PageBanner-DSTO_g41.js";import{C as w}from"./CTASection-BvjqXvCm.js";import{P as v}from"./ProductCard-BVzV_sdH.js";import{F as y}from"./FilterBar-Cvwb4ufZ.js";import"./index-C-ZaVbcL.js";function U({data:m}){return m?.metaData??[{title:"产品中心 - 某某包装"}]}const H=f(function(){const a=g(),[d]=b(),i=u(),x=t=>{const r=new URLSearchParams(d);r.delete(t),r.set("page","1");const s=r.toString();return s?`${i.pathname}?${s}`:i.pathname},h=()=>{const t=new URLSearchParams(d);a.filters.facets.forEach(s=>t.delete(s.key)),t.set("page","1");const r=t.toString();return r?`${i.pathname}?${r}`:i.pathname};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(j,{logo:e.jsx("span",{children:a.header.logoText}),navItems:a.header.nav,activePath:"/products",cta:e.jsx("a",{href:"/contact#wechat",className:"inline-flex h-9 items-center rounded bg-black px-3 text-white text-xs",children:"企业微信咨询"})}),e.jsx(k,{title:a.banner.title,breadcrumb:a.banner.breadcrumb}),e.jsxs("main",{className:"mx-auto max-w-6xl px-4 py-10",children:[e.jsx("div",{className:"flex flex-wrap items-center gap-3",children:a.categories.map(t=>e.jsx("a",{href:t.to,className:"text-sm px-3 py-1.5 rounded border "+(t.to==="/products"?"bg-black text-white border-black":"bg-white text-black/80 hover:border-black/40"),children:t.label},t.to))}),e.jsxs("div",{className:"mt-6",children:[e.jsx(y,{facets:a.filters.facets,selected:a.filters.selected,action:i.pathname}),a.filters.selected&&Object.keys(a.filters.selected).length>0&&e.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2 text-sm",children:[e.jsx("span",{className:"text-black/60",children:"已选："}),Object.entries(a.filters.selected).map(([t,r])=>{if(!r)return null;const s=a.filters.facets.find(n=>n.key===t),l=s?.label??t,o=s?.options.find(n=>n.value===r)?.label??r;return e.jsxs("a",{href:x(t),className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-black/5 hover:bg-black/10","aria-label":`清除 ${l}`,children:[e.jsxs("span",{className:"text-black/70",children:[l,"：",o]}),e.jsx("span",{className:"text-black/50",children:"×"})]},t)}),e.jsx("a",{href:h(),className:"ml-2 text-xs text-black/60 hover:text-black/80 underline",children:"重置筛选"})]})]}),e.jsx("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:a.items.map(t=>e.jsx(v,{id:t.id,title:t.title,imageUrl:t.imageUrl,priceText:t.priceText,tags:t.tags,to:t.to},t.id))}),e.jsx("div",{className:"mt-8 flex items-center justify-center gap-2 text-sm",children:(()=>{const t=Math.max(1,Math.ceil(a.pagination.total/a.pagination.pageSize)),r=a.pagination.page,s=c=>{const p=new URLSearchParams({...Object.fromEntries(d.entries())});return p.set("page",String(c)),`?${p.toString()}`},l=[],o=Math.max(1,r-2),n=Math.min(t,r+2);for(let c=o;c<=n;c++)l.push(c);return e.jsxs(e.Fragment,{children:[r>1&&e.jsx("a",{href:s(r-1),className:"px-3 py-1 rounded border",children:"上一页"}),o>1&&e.jsxs(e.Fragment,{children:[e.jsx("a",{href:s(1),className:"px-3 py-1 rounded border",children:"1"}),o>2&&e.jsx("span",{className:"px-1",children:"…"})]}),l.map(c=>e.jsx("a",{href:s(c),"aria-current":c===r?"page":void 0,className:"px-3 py-1 rounded border "+(c===r?"bg-black text-white border-black":"bg-white hover:border-black/40"),children:c},c)),n<t&&e.jsxs(e.Fragment,{children:[n<t-1&&e.jsx("span",{className:"px-1",children:"…"}),e.jsx("a",{href:s(t),className:"px-3 py-1 rounded border",children:t})]}),r<t&&e.jsx("a",{href:s(r+1),className:"px-3 py-1 rounded border",children:"下一页"})]})})()}),e.jsx("div",{className:"mt-10",children:e.jsx(w,{title:"需要定制方案或报价？",actions:[{type:"qrcode",imgSrc:a.header.wechatQrcode??"/wechat-qrcode.svg",caption:"扫描添加企业微信"},{type:"link",label:"联系我们",to:"/contact"}]})})]}),e.jsx(N,{groups:a.footer.groups,icpInfo:a.footer.icpInfo,copyright:a.footer.copyright})]})});export{H as default,U as meta};
